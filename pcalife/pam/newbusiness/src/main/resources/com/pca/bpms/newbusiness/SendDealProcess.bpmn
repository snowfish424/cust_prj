<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_s21V0MUtEeynEYVGYST10g" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_appformItem" structureRef="com.pca.bpms.model.ApplicationForm"/>
  <bpmn2:itemDefinition id="_procLoggerItem" structureRef="org.slf4j.Logger"/>
  <bpmn2:itemDefinition id="_subLevelItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_rootProcessIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_parentProcessIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_procinsIDSItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_reOpenItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_reOpenReasonItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_reOpenHandlerItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_processParmsItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="_areaItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_caseLevelItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_caseAnnualPremiumItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_caseFaceAmountItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_caseTypeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_channelItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_salesItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_paymentItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_priorityItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_planCodeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_packageNumItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_nodeNameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_mainFlowStartTimeItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_taskNameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_PriorityInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_CommentInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_CreatedByInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_GroupIdInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_ContentInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_NotStartedReassignInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_NotCompletedReassignInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_NotStartedNotifyInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_NotCompletedNotifyInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_appformInputXItem" structureRef="com.pca.bpms.model.ApplicationForm"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_subLevelInputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_rootProcessIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_procinsIDSInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_parnetProcessIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_areaInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_caseLevelInputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_caseAnnualPremiumInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_caseFaceAmountInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_caseTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_channelInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_salesInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_paymentInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_getPriorityInputXItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_planCodeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_packageNumInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_nodeNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_mainFlowStartTimeInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_getTaskNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenOutputXItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenReasonOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenHandlerOutputXItem" structureRef="String"/>
  <bpmn2:process id="newbusiness.senddealprocess.pam7" drools:packageName="com.pca.bpms.newbusiness" drools:version="0.5" drools:adHoc="false" name="SendDealProcess" isExecutable="true" processType="Public">
    <bpmn2:extensionElements>
      <drools:metaData name="customDescription">
        <drools:metaValue><![CDATA[發單子流程]]></drools:metaValue>
      </drools:metaData>
      <drools:import name="com.pca.bpms.model.ApplicationForm"/>
      <drools:import name="org.slf4j.Logger"/>
      <drools:import name="org.slf4j.LoggerFactory"/>
    </bpmn2:extensionElements>
    <bpmn2:property id="appform" itemSubjectRef="_appformItem" name="appform"/>
    <bpmn2:property id="procLogger" itemSubjectRef="_procLoggerItem" name="procLogger"/>
    <bpmn2:property id="subLevel" itemSubjectRef="_subLevelItem" name="subLevel"/>
    <bpmn2:property id="rootProcessId" itemSubjectRef="_rootProcessIdItem" name="rootProcessId"/>
    <bpmn2:property id="parentProcessId" itemSubjectRef="_parentProcessIdItem" name="parentProcessId"/>
    <bpmn2:property id="procinsIDS" itemSubjectRef="_procinsIDSItem" name="procinsIDS"/>
    <bpmn2:property id="reOpen" itemSubjectRef="_reOpenItem" name="reOpen"/>
    <bpmn2:property id="reOpenReason" itemSubjectRef="_reOpenReasonItem" name="reOpenReason"/>
    <bpmn2:property id="reOpenHandler" itemSubjectRef="_reOpenHandlerItem" name="reOpenHandler"/>
    <bpmn2:property id="processParms" itemSubjectRef="_processParmsItem" name="processParms"/>
    <bpmn2:property id="area" itemSubjectRef="_areaItem" name="area"/>
    <bpmn2:property id="caseLevel" itemSubjectRef="_caseLevelItem" name="caseLevel"/>
    <bpmn2:property id="caseAnnualPremium" itemSubjectRef="_caseAnnualPremiumItem" name="caseAnnualPremium"/>
    <bpmn2:property id="caseFaceAmount" itemSubjectRef="_caseFaceAmountItem" name="caseFaceAmount"/>
    <bpmn2:property id="caseType" itemSubjectRef="_caseTypeItem" name="caseType"/>
    <bpmn2:property id="channel" itemSubjectRef="_channelItem" name="channel"/>
    <bpmn2:property id="sales" itemSubjectRef="_salesItem" name="sales"/>
    <bpmn2:property id="payment" itemSubjectRef="_paymentItem" name="payment"/>
    <bpmn2:property id="priority" itemSubjectRef="_priorityItem" name="priority"/>
    <bpmn2:property id="planCode" itemSubjectRef="_planCodeItem" name="planCode"/>
    <bpmn2:property id="packageNum" itemSubjectRef="_packageNumItem" name="packageNum"/>
    <bpmn2:property id="nodeName" itemSubjectRef="_nodeNameItem" name="nodeName"/>
    <bpmn2:property id="mainFlowStartTime" itemSubjectRef="_mainFlowStartTimeItem" name="mainFlowStartTime"/>
    <bpmn2:property id="taskName" itemSubjectRef="_taskNameItem" name="taskName"/>
    <bpmn2:sequenceFlow id="_FB36A5F6-533F-42A4-8A72-0599A7770882" sourceRef="_4F869949-5692-485C-BE19-5099CD6476A0" targetRef="_E524E832-228F-4A4F-A2DC-00DB13D20F28"/>
    <bpmn2:sequenceFlow id="_95D8F92B-AF66-4D57-A233-963BC814B189" sourceRef="_CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA" targetRef="_4F869949-5692-485C-BE19-5099CD6476A0"/>
    <bpmn2:sequenceFlow id="_7D35F4D4-FFAA-4AF5-A8C2-E32CADF2C10F" sourceRef="processStartEvent" targetRef="_CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA"/>
    <bpmn2:startEvent id="processStartEvent">
      <bpmn2:outgoing>_7D35F4D4-FFAA-4AF5-A8C2-E32CADF2C10F</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:endEvent id="_E524E832-228F-4A4F-A2DC-00DB13D20F28">
      <bpmn2:incoming>_FB36A5F6-533F-42A4-8A72-0599A7770882</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:userTask id="_4F869949-5692-485C-BE19-5099CD6476A0" name="等待新契約發單處理">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[等待新契約發單處理]]></drools:metaValue>
        </drools:metaData>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script><![CDATA[procLogger.info("On Entry Action, STAGE: "+ kcontext.getNodeInstance().getNodeName());
kcontext.setVariable("area", appform.getArea());
kcontext.setVariable("caseLevel", appform.getCaseLevel());
kcontext.setVariable("caseAnnualPremium", appform.getCaseAnnualPremium());
kcontext.setVariable("caseFaceAmount", appform.getCaseFaceAmount());
kcontext.setVariable("caseType", appform.getCaseType());
kcontext.setVariable("channel", appform.getChannel());
kcontext.setVariable("sales", appform.getSalesNo());
kcontext.setVariable("payment", appform.getPayment());
kcontext.setVariable("getPriority", appform.getPriority());
kcontext.setVariable("planCode", appform.getPlanCode());
kcontext.setVariable("packageNum", appform.getPackageNum());
kcontext.setVariable("nodeName", kcontext.getNodeInstance().getNodeName());
kcontext.setVariable("getTaskName", "waitForNBClosure");
if(appform.getMainFlowStartTime() != null) {
	java.text.SimpleDateFormat sf = new java.text.SimpleDateFormat("yyyyMMddHHmmssSSS");
	kcontext.setVariable("mainFlowStartTime", sf.format(appform.getMainFlowStartTime()));
}
]]></drools:script>
        </drools:onEntry-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_95D8F92B-AF66-4D57-A233-963BC814B189</bpmn2:incoming>
      <bpmn2:outgoing>_FB36A5F6-533F-42A4-8A72-0599A7770882</bpmn2:outgoing>
      <bpmn2:ioSpecification id="_s21V0cUtEeynEYVGYST10g">
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputXItem" name="TaskName"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_appformInputX" drools:dtype="com.pca.bpms.model.ApplicationForm" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_appformInputXItem" name="appform"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_subLevelInputX" drools:dtype="Integer" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_subLevelInputXItem" name="subLevel"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_rootProcessIdInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_rootProcessIdInputXItem" name="rootProcessId"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_procinsIDSInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_procinsIDSInputXItem" name="procinsIDS"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_parnetProcessIdInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_parnetProcessIdInputXItem" name="parnetProcessId"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_areaInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_areaInputXItem" name="area"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_caseLevelInputX" drools:dtype="Integer" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_caseLevelInputXItem" name="caseLevel"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_caseAnnualPremiumInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_caseAnnualPremiumInputXItem" name="caseAnnualPremium"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_caseFaceAmountInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_caseFaceAmountInputXItem" name="caseFaceAmount"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_caseTypeInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_caseTypeInputXItem" name="caseType"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_channelInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_channelInputXItem" name="channel"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_salesInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_salesInputXItem" name="sales"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_paymentInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_paymentInputXItem" name="payment"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_getPriorityInputX" drools:dtype="Integer" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_getPriorityInputXItem" name="getPriority"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_planCodeInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_planCodeInputXItem" name="planCode"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_packageNumInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_packageNumInputXItem" name="packageNum"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_nodeNameInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_nodeNameInputXItem" name="nodeName"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_mainFlowStartTimeInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_mainFlowStartTimeInputXItem" name="mainFlowStartTime"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_getTaskNameInputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_getTaskNameInputXItem" name="getTaskName"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputXItem" name="Skippable"/>
        <bpmn2:dataInput id="_4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputX" drools:dtype="Object" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputXItem" name="Description"/>
        <bpmn2:dataOutput id="_4F869949-5692-485C-BE19-5099CD6476A0_reOpenOutputX" drools:dtype="Boolean" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenOutputXItem" name="reOpen"/>
        <bpmn2:dataOutput id="_4F869949-5692-485C-BE19-5099CD6476A0_reOpenReasonOutputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenReasonOutputXItem" name="reOpenReason"/>
        <bpmn2:dataOutput id="_4F869949-5692-485C-BE19-5099CD6476A0_reOpenHandlerOutputX" drools:dtype="String" itemSubjectRef="__4F869949-5692-485C-BE19-5099CD6476A0_reOpenHandlerOutputXItem" name="reOpenHandler"/>
        <bpmn2:inputSet id="_s21V0sUtEeynEYVGYST10g">
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_appformInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_subLevelInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_rootProcessIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_procinsIDSInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_parnetProcessIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_areaInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_caseLevelInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_caseAnnualPremiumInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_caseFaceAmountInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_caseTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_channelInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_salesInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_paymentInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_getPriorityInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_planCodeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_packageNumInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_nodeNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_mainFlowStartTimeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_getTaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="_s21V08UtEeynEYVGYST10g">
          <bpmn2:dataOutputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenReasonOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenHandlerOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="_s21V1MUtEeynEYVGYST10g">
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_s21V1cUtEeynEYVGYST10g">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_s21V1sUtEeynEYVGYST10g"><![CDATA[waitForNBClosure]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_s21V18UtEeynEYVGYST10g">_4F869949-5692-485C-BE19-5099CD6476A0_TaskNameInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V2MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>appform</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_appformInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V2cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>subLevel</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_subLevelInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V2sUtEeynEYVGYST10g">
        <bpmn2:sourceRef>rootProcessId</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_rootProcessIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V28UtEeynEYVGYST10g">
        <bpmn2:sourceRef>procinsIDS</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_procinsIDSInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V3MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>parentProcessId</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_parnetProcessIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V3cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>area</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_areaInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V3sUtEeynEYVGYST10g">
        <bpmn2:sourceRef>caseLevel</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_caseLevelInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V38UtEeynEYVGYST10g">
        <bpmn2:sourceRef>caseAnnualPremium</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_caseAnnualPremiumInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V4MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>caseFaceAmount</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_caseFaceAmountInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V4cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>caseType</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_caseTypeInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V4sUtEeynEYVGYST10g">
        <bpmn2:sourceRef>channel</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_channelInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V48UtEeynEYVGYST10g">
        <bpmn2:sourceRef>sales</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_salesInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V5MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>payment</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_paymentInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V5cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>priority</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_getPriorityInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V5sUtEeynEYVGYST10g">
        <bpmn2:sourceRef>planCode</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_planCodeInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V58UtEeynEYVGYST10g">
        <bpmn2:sourceRef>packageNum</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_packageNumInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V6MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>nodeName</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_nodeNameInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V6cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>mainFlowStartTime</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_mainFlowStartTimeInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V6sUtEeynEYVGYST10g">
        <bpmn2:sourceRef>taskName</bpmn2:sourceRef>
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_getTaskNameInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V68UtEeynEYVGYST10g">
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_s21V7MUtEeynEYVGYST10g">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_s21V7cUtEeynEYVGYST10g"><![CDATA[true]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_s21V7sUtEeynEYVGYST10g">_4F869949-5692-485C-BE19-5099CD6476A0_SkippableInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="_s21V78UtEeynEYVGYST10g">
        <bpmn2:targetRef>_4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputX</bpmn2:targetRef>
        <bpmn2:assignment id="_s21V8MUtEeynEYVGYST10g">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="_s21V8cUtEeynEYVGYST10g"><![CDATA[waitForNBClosure]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="_s21V8sUtEeynEYVGYST10g">_4F869949-5692-485C-BE19-5099CD6476A0_DescriptionInputX</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="_s21V88UtEeynEYVGYST10g">
        <bpmn2:sourceRef>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>reOpen</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation id="_s21V9MUtEeynEYVGYST10g">
        <bpmn2:sourceRef>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenReasonOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>reOpenReason</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation id="_s21V9cUtEeynEYVGYST10g">
        <bpmn2:sourceRef>_4F869949-5692-485C-BE19-5099CD6476A0_reOpenHandlerOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>reOpenHandler</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:potentialOwner id="_ff329814-e4aa-4d05-bead-7a0b1f0af214">
        <bpmn2:resourceAssignmentExpression id="_s21V9sUtEeynEYVGYST10g">
          <bpmn2:formalExpression id="_s21V98UtEeynEYVGYST10g">bpmsAdmin</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:scriptTask id="_CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA" name="初使化作業" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[初使化作業]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_7D35F4D4-FFAA-4AF5-A8C2-E32CADF2C10F</bpmn2:incoming>
      <bpmn2:outgoing>_95D8F92B-AF66-4D57-A233-963BC814B189</bpmn2:outgoing>
      <bpmn2:script><![CDATA[procLogger = (Logger) LoggerFactory.getLogger("Script Task Logger");
kcontext.setVariable("procLogger",procLogger);
procLogger.info("STAGE: "+kcontext.getNodeInstance().getNodeName());
procLogger.info("Process Instance ID: "+ kcontext.getProcessInstance().getId());
appform = (ApplicationForm) kcontext.getVariable("appform");
subLevel = (Integer) kcontext.getVariable("subLevel");
subLevel += 1;
procLogger.debug("subLevel mapped into sub process:"+ subLevel);
rootProcessId = (String) kcontext.getVariable("rootProcessId");
parentProcessId = rootProcessId;
if (subLevel > 1) parentProcessId = (String) kcontext.getVariable("parentProcessId");
procinsIDS = (String) kcontext.getVariable("procinsIDS") + "," + kcontext.getProcessInstance().getId();
kcontext.setVariable("rootProcessId", rootProcessId);
kcontext.setVariable("parentProcessId", parentProcessId);
kcontext.setVariable("subLevel", subLevel);
kcontext.setVariable("procinsIDS", procinsIDS);
//processParms = new java.util.HashMap<String, Object>();
//kcontext.setVariable("processParms", processParms);]]></bpmn2:script>
    </bpmn2:scriptTask>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_s21V-MUtEeynEYVGYST10g">
    <bpmndi:BPMNPlane id="_s21V-cUtEeynEYVGYST10g" bpmnElement="newbusiness.senddealprocess.pam7">
      <bpmndi:BPMNShape id="shape__CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA" bpmnElement="_CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA">
        <dc:Bounds height="80.0" width="100.0" x="195.0" y="140.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__4F869949-5692-485C-BE19-5099CD6476A0" bpmnElement="_4F869949-5692-485C-BE19-5099CD6476A0">
        <dc:Bounds height="80.0" width="100.0" x="340.0" y="140.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__E524E832-228F-4A4F-A2DC-00DB13D20F28" bpmnElement="_E524E832-228F-4A4F-A2DC-00DB13D20F28">
        <dc:Bounds height="56.0" width="56.0" x="485.0" y="166.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_processStartEvent" bpmnElement="processStartEvent">
        <dc:Bounds height="56.0" width="56.0" x="120.0" y="165.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape_processStartEvent_to_shape__CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA" bpmnElement="_7D35F4D4-FFAA-4AF5-A8C2-E32CADF2C10F">
        <di:waypoint xsi:type="dc:Point" x="135.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="245.0" y="180.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA_to_shape__4F869949-5692-485C-BE19-5099CD6476A0" bpmnElement="_95D8F92B-AF66-4D57-A233-963BC814B189">
        <di:waypoint xsi:type="dc:Point" x="245.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="390.0" y="180.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__4F869949-5692-485C-BE19-5099CD6476A0_to_shape__E524E832-228F-4A4F-A2DC-00DB13D20F28" bpmnElement="_FB36A5F6-533F-42A4-8A72-0599A7770882">
        <di:waypoint xsi:type="dc:Point" x="390.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="499.0" y="180.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_s21V-sUtEeynEYVGYST10g" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_CD783BE1-D2D2-47BB-A2F1-8AAD31A6D9FA" id="_s2184MUtEeynEYVGYST10g">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:UniformDistribution max="10.0" min="5.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="_4F869949-5692-485C-BE19-5099CD6476A0" id="_s2184cUtEeynEYVGYST10g">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:UniformDistribution max="10.0" min="5.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters xsi:type="bpsim:ResourceParameters">
              <bpsim:Availability xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="8.0"/>
              </bpsim:Availability>
              <bpsim:Quantity xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="1.0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters xsi:type="bpsim:CostParameters">
              <bpsim:UnitCost xsi:type="bpsim:Parameter">
                <bpsim:FloatingParameter value="0.0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters xsi:type="bpsim:ElementParameters" elementRef="processStartEvent" id="_s2184sUtEeynEYVGYST10g">
            <bpsim:TimeParameters xsi:type="bpsim:TimeParameters">
              <bpsim:ProcessingTime xsi:type="bpsim:Parameter">
                <bpsim:UniformDistribution max="10.0" min="5.0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_s21V0MUtEeynEYVGYST10g</bpmn2:source>
    <bpmn2:target>_s21V0MUtEeynEYVGYST10g</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
